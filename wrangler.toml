name = "team-task-manager"
main = "worker.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "task-manager-db-v2"
database_id = "6e646fd2-4e3c-4632-b7e7-55e224368b5f"

# Environment variables (non-sensitive)
[vars]
ENVIRONMENT = "production"
SUPABASE_URL = "https://oxbaswpyxryvygamgtsu.supabase.co"

# Secrets (add these with: wrangler secret put <NAME>)
# Run these commands after creating the worker:
# wrangler secret put SUPABASE_ANON_KEY
# wrangler secret put SUPABASE_SERVICE_ROLE_KEY
# wrangler secret put SUPABASE_JWT_SECRET
# wrangler secret put SESSION_SECRET
# wrangler secret put ANTHROPIC_API_KEY (optional, for Claude AI features)

# Development environment (for local testing)
[env.dev]
name = "team-task-manager-dev"

[env.dev.vars]
ENVIRONMENT = "development"
SUPABASE_URL = "https://oxbaswpyxryvygamgtsu.supabase.co"
