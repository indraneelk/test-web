name = "team-task-manager"
main = "worker.js"
compatibility_date = "2024-01-01"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "task-manager-db"
database_id = "005ae015-b328-4465-aa8a-eb209c0421b5"

# Environment variables (non-sensitive)
[vars]
ENVIRONMENT = "production"
SUPABASE_URL = "https://oxbaswpyxryvygamgtsu.supabase.co"

# Secrets (add these with: wrangler secret put <NAME>)
# Run these commands after deploying to Cloudflare:
#
# Required for authentication:
# wrangler secret put SESSION_SECRET
#   Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Optional for Supabase authentication:
# wrangler secret put SUPABASE_ANON_KEY
# wrangler secret put SUPABASE_SERVICE_ROLE_KEY
# wrangler secret put SUPABASE_JWT_SECRET
#
# Optional for Claude AI features (Discord bot needs this):
# wrangler secret put ANTHROPIC_API_KEY
#   Get from: https://console.anthropic.com/settings/keys
#
# Note: Discord bot token is NOT needed in Cloudflare, only locally
# Set DISCORD_BOT_TOKEN in your local .env file for the Discord bot

# Development environment (for local testing)
[env.dev]
name = "team-task-manager-dev"

[env.dev.vars]
ENVIRONMENT = "development"
SUPABASE_URL = "https://oxbaswpyxryvygamgtsu.supabase.co"
